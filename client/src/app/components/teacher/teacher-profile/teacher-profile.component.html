<div class="loadingDiv" *ngIf="isLoading">
  <div class="loader"></div>
</div>

<div class="row show-hide-message" *ngIf="show">
  <div [ngClass]="messageClass">
  {{message}}</div>
</div>


<div class="flex becomeTeacher" *ngIf="!isTeacher">
  <h2 class="flex">Become a Teacher and connect with Students Today!</h2>
  <div class="flex">
    <button class="btn btn-success" (click)="becomeTeacherRegister()">Click Here</button>
  </div>
  <hr>
</div>



<div class="flex" *ngIf="isTeacher && !isLoading" (click)="closeStatusModal()">
  <app-teacher-profile-main></app-teacher-profile-main>
  <div class="flex notes">
      <h3 class="flex left-text">About {{ fullname }}</h3>
    <div *ngIf="!isBioEdit" class="flex bioWrapper">
      <p class="notes-text">{{bio}}</p>
    <div class="flex">
      <button class="btn btn-warning editBio" (click)="isBioEdit = !isBioEdit">Edit</button>
    </div>
  </div>
    <form [formGroup]='bioForm' (submit)="bioFormSubmit()" *ngIf=isBioEdit>
      <textarea name="bio" formControlName="bio" placeholder="Write your Bio here ~ approx 200 characters" value="{{ bio }}"></textarea>
      <div class="flex save">
        <button type="button" class="btn btn-warning" (click)="isBioEdit = !isBioEdit">Cancel</button>
        <button type="submit" class="btn btn-success" [disabled]="!bioForm.controls.bio.value">Save</button>
      </div>
    </form>
  </div>

  <div class="flex vidWrap">
    <div class="flex vidDiv">
      <div class="row show-hide-message" *ngIf="showVidSubmitMessage" style="width: 40%; font-size:1.25em; font-weight: 500;" >
        <div [ngClass]="messageClass" style=" font-size:1.25em; font-weight: 500;">
          {{vidSubmitMessage}}</div>
        </div>
      <div class="flex">
        <i class="fa fa-cloud-upload" aria-hidden="true"></i>
      </div>
        <div class="flex">
          <p class="flex" style="color:darkgrey;"><em>.mov or .mp4</em></p>
          <label for="fileInput" class="custom-file-upload">
            <h4>Upload a Video!</h4>
          </label>
          <input #fileInput id="fileInput" type="file" size="20" (change)=getVidFile($event)/>
        </div>
        <div class="flex vidSubmitDiv" *ngIf="canSubmitVideo">
          <p class="flex" style="color: white;" *ngIf="videoFileName"><strong>File:</strong> &nbsp; <em>{{ videoFileName }}</em></p>
          <button class="btn btn-success" (click)="videoSubmit()" [disabled]="!videoFileName">Submit</button>
        </div>
      <div class="flex vidText">
        <p>
          Upload a video introducing yourself to students, or showing off your skills. <span>(Optional)</span>
        </p>
      </div>
    </div>
  </div>

  <div class="flex reviewsContainer">
    <div class="flex half reviews">
      <h3 class="flex reviewsTitle">Reviews</h3>
      <app-teacher-reviews></app-teacher-reviews>
    </div>
    <div class="flex half exp">
      <h3 class="flex">Professional Experience:</h3>
      <h6 *ngIf="experiences == undefined || null" class="flex">Please Update Your Experiences </h6>
      <ul class="flex experiences" *ngFor="let experience of experiences">
        <li class="flex"><i class="fa fa-plus ploos" aria-hidden="true"></i>
          <span>{{ experience }}</span>
        </li>
      </ul>
      <div class="flex dynamicExperiences">
        <h4 *ngIf="maxExperiences" style="color:red;">You already have 5 expereiences!</h4>
        <input (keyup)="getNewExperience($event)" class="experienceInput" *ngIf="!maxExperiences" value="{{experienceValue}}" placeholder="Add New Experience...">
        <button class="btn btn-primary experienceAddButton" (click)="addExperience()" *ngIf="!maxExperiences" [disabled]="[experienceValue] == ''">Add Experience</button>
        <button class="btn btn-danger experienceButton" (click)="clearExperience()">Reset Experiences</button>
      </div>
    </div>
  </div>
</div>


<span *ngIf="!isLoading && !isOnline">
<div class="flex statusModal" [ngClass]="{fadeOut: cookies}">
  <div class="flex">
    <div class="flex xClose">
      <i class="fa fa-times fa-2x" aria-hidden="true" (click)="closeStatusModal()"></i>
    </div>
    <div class="teacherStatusModal">
      <div class="row show-hide-message">
        <div [ngClass]="messageClass">
        {{message}}</div>
      </div>
      <div class="flex leftText">
        <h2 style="font-size:2em;">Welcome to your Teacher Profile, {{ fullname }}!</h2>
      </div>
      <div class="flex statusListDiv leftText">
        <h4 *ngIf="!canChangeStatus" style='font-weight:300; margin-top: 1em;'>To activate your profile, please update the following:</h4>
        <h4 *ngIf="canChangeStatus">You are currently <span [ngClass]="isOnline ? 'online' : 'offline'">{{ onlineStatus }}</span></h4>
        <ul class="flex statusList leftText">
          <li class="status" *ngIf="profPicName === 'blankProf.png'">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please add a picture to your profile page.
          </li>
          <li class="status" *ngIf="!skill1 || !skill2">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please upate your skills section.
          </li>
          <li class="status" *ngIf="!bio">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please update your bio section.
          </li>
          <li class="status" *ngIf="!experiences">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please add 2 or more experiences to your profile.
          </li>
          <!-- <li class="status" *ngIf="!skill2">
            Please update your availability section.
          </li> -->
        </ul>
        <div class="flex activateButtons" *ngIf="canChangeStatus">
          <button class="btn btn-danger" (click)="goOffline()" *ngIf="onlineStatus === 'ONLINE'">Go Offline</button>
          <button class="btn btn-danger" (click)="goOffline()" *ngIf="onlineStatus === 'OFFLINE'">Stay Offline</button>
          <button class="btn btn-info" (click)="goOnline()" *ngIf="onlineStatus === 'OFFLINE'">Go Online</button>
          <button class="btn btn-info" (click)="goOnline()" *ngIf="onlineStatus === 'ONLINE'">Stay Online</button>
        </div>
      </div>
    </div>
  </div>
</div>
</span>

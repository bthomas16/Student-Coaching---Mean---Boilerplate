<div class="loadingDiv" *ngIf="isLoading">
  <div class="loader"></div>
</div>


<div class="flex becomeTeacher" *ngIf="!isTeacher && !isLoading">
  <h2 class="flex">Become a Teacher and connect with Students Today!</h2>
  <div class="flex">
    <button class="btn btn-success" (click)="becomeTeacherRegister()">Click Here</button>
  </div>
  <hr>
</div>

<!-- <span > -->
  <div [ngClass]="modalState == 'fadeIn' ? 'greyOut ': 'none'" *ngIf="isTeacher && !isLoading">
  </div>
<!-- </span> -->

  <app-teacher-profile-main *ngIf="!isLoading && isTeacher" [fullname]="fullname"></app-teacher-profile-main>

  <!-- bio row -->


<div class="container bioRow"  *ngIf="isTeacher && !isLoading" (click)="closeStatusModal()">
  <div class="row show-hide-message" *ngIf="show">
    <div [ngClass]="messageClass">
    {{message}}</div>
  </div>
  <div class="row leftText bioRow">
    <div class="col-xs-10 col-md-offset-1 col-xs-12 col-xs-offset-0">
      <i class="fa fa-pencil-square-o editLogo pointer" aria-hidden="true" (click)="isEdit = !isEdit" *ngIf="!isEdit"></i>
      <i class="fa fa-check editLogo successEdit successEditBio pointer" aria-hidden="true" (click)="bioValueSubmit()" *ngIf="isEdit"></i>
      <i class="fa fa-times editLogo cancelEdit cancelEditBio pointer" aria-hidden="true" (click)="isEdit = !isEdit" *ngIf="isEdit"></i>
      <p class="about">About {{ fullname }}</p>
    </div>
    <div class="col-xs-10 col-md-offset-1 col-xs-12 col-xs-offset-0">
      <p *ngIf="!isEdit" class="bioText">{{bio}}</p>
      <textarea *ngIf="isEdit" type="text" class="flex bioInput" placeholder="Update you bio..." value="{{ bio }}" (change)="getBioValue($event.target.value)"></textarea>
    </div>
  </div>
</div>


<!-- video row -->

<div class="container vidContainer" *ngIf="isTeacher && !isLoading" (click)="closeStatusModal()">
  <div class="row show-hide-message" *ngIf="showVidSubmitMessage" style="width: 40%; font-size:1.25em; font-weight: 500;" >
    <div [ngClass]="messageClass" style=" font-size:1.25em; font-weight: 500;">
      {{vidSubmitMessage}}</div>
    </div>
  <div class="row">
    <div class="col-md-8 col-md-offset-2 col-xs-10 col-xs-offset-1 vidBlock">
      <div class="row cloudImg">
        <div class="col-xs-12">
          <i class="col-xs-12 fa fa-cloud-upload" aria-hidden="true"></i>
          <label for="fileInput" class="custom-file-upload">
            <h4>Upload Video</h4>
          </label>
          <input #fileInput id="fileInput" type="file" (change)=getVidFile($event)/>
          <div class="flex vidSubmitDiv" *ngIf="canSubmitVideo">
            <p class="flex" style="color: white;" *ngIf="videoFileName"><strong>File:</strong> &nbsp; <em>{{ videoFileName }}</em></p>
            <button class="btn btn-success" (click)="videoSubmit()" [disabled]="!videoFileName">Submit</button>
          </div>
          <p class="col-md-8 col-md-offset-2 col-xs-10 col-xs-offset-1 uploadText">
            Upload a video introducing yourself to students, or showing off your skills. <span>(Optional)</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container reviewsContainer" *ngIf="isTeacher && !isLoading" (click)="closeStatusModal()">
  <div class="row">
    <div class="col-md-6 reviews">
      <div class="row">
        <div class="col-md-10 col-md-offset-1 leftText">
          <h3>Reviews</h3>
        </div>
        <div class="col-md-10 col-md-offset-1 teacherReviewDiv">
          <app-teacher-reviews></app-teacher-reviews>
        </div>
        <a class="showMore" (click)="subtractSlice3()" *ngIf="[sliceNumber] > 3">Show Less</a>
        <a class="showMore" (click)="resetSlice()"  *ngIf="([sliceNumber] >= teachersListLength) || changedShow">Reset</a>
        <a class="showMore" (click)="addSlice3()" *ngIf="[sliceNumber] < ratingsListLength" >Show More</a>
      </div>
    </div>
    <div class="col-md-6 proExperience">
      <div class="row">
        <div class="col-md-12 leftText" style="padding-left:1em;">
          <div class="row">
            <div class="col-xs-10 col-xs-offset-1" >
              <h3>Professional Experience:</h3>
            </div>
          </div>
          <h6 *ngIf="experiences == undefined || null">Update Experiences </h6>
        </div>
        <i class="fa fa-pencil-square-o editLogo proExpEditLogo pointer" aria-hidden="true" (click)="isEditExp = !isEditExp" *ngIf="!isEditExp"></i>
        <i class="fa fa-check editLogo successEdit successproExpEdit successEditBio pointer" aria-hidden="true" (click)="experienceSubmit()" *ngIf="isEditExp"></i>
        <i class="fa fa-times editLogo cancelEdit cancelproExpEdit cancelEditBio pointer" aria-hidden="true" (click)="cancelExp()" *ngIf="isEditExp"></i>
        <div class="col-xs-11 experiences">
          <ul  *ngFor="let experience of experiences">
            <li class="leftText makeFull">
              <i class="fa fa-plus ploos" aria-hidden="true"></i>
              <span>{{ experience }}</span>
            </li>
          </ul>
          <div class="row dynamicExperiences" *ngIf="isEditExp">
            <!-- <h4 *ngIf="experiences.length == 5" style="color:red;" class="col-md-6 col-md-offset-3">You already have 5 expereiences!</h4> -->
            <input (keyup)="getNewExperience($event)" class="experienceInput col-xs-8 " *ngIf="experiences.length !== 5" value="{{experienceValue}}" placeholder="Add New Experience...">
            <div class="col-xs-11 buttsDiv">
              <button class="btn btn-success col-xs-3" (click)="addExperience()"  [disabled]="[experienceValue] == ''" *ngIf="experiences.length !== 5">Add</button>
              <button class="btn btn-success col-xs-3" (click)="addExperience()"  disabled *ngIf="experiences.length == 5">5 Max</button>
              <button class="btn btn-warning col-xs-3" (click)="deleteExperience()" [disabled]="experiences.length == 0">Delete</button>
              <button class="btn btn-danger experienceButton col-xs-3" (click)="resetExperience()" [disabled]="experiences.length == 3">Reset</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-rating-summary *ngIf="!isLoading && isTeacher"></app-rating-summary>


<span *ngIf="(!isLoading && !isOnline) && isTeacher">
<div class="flex statusModal" [@modalStatusFade]="modalState">
  <div class="flex">
    <div class="flex xClose">
      <i class="fa fa-times" aria-hidden="true" (click)="closeStatusModal()"></i>
    </div>
    <div class="teacherStatusModal">
      <div class="row show-hide-message">
        <div [ngClass]="messageClass">
        {{message}}</div>
      </div>
      <div class="flex leftText">
        <h3 style="font-size:2em;">Welcome to your Teacher Profile, {{ fullname }}!</h3>
      </div>
      <div class="flex statusListDiv leftText">
        <h4 *ngIf="!canChangeStatus" style='font-weight:300; margin-top: 1em;'>To activate your profile, please update the following:</h4>
        <h4 *ngIf="canChangeStatus">You are currently <span [ngClass]="onlineStatus ? 'online' : 'offline'">{{ onlineStatus }}</span></h4>
        <ul class="flex statusList leftText">
          <li class="status" *ngIf="profPicName === 'blankProf.png'">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please add a picture to your profile page.
          </li>
          <li class="status" *ngIf="!skill1 || !skill2">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please upate your Profile Information.
          </li>
          <li class="status" *ngIf="!bio">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please update your bio section.
          </li>
          <li class="status" *ngIf="!experiences">
            <i class="fa fa-plus" aria-hidden="true"></i>
            &nbsp; Please add 2 or more experiences to your profile.
          </li>
        </ul>
        <div class="flex activateButtons" *ngIf="canChangeStatus">
          <button class="btn btn-danger" (click)="goOffline()" *ngIf="onlineStatus">Go Offline</button>
          <button class="btn btn-danger" (click)="goOffline()" *ngIf="!onlineStatus">Stay Offline</button>
          <button class="btn btn-info" (click)="goOnline()" *ngIf="!onlineStatus">Go Online</button>
          <button class="btn btn-info" (click)="goOnline()" *ngIf="onlineStatus">Stay Online</button>
        </div>
      </div>
    </div>
  </div>
</div>
</span>
